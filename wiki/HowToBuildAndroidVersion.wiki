#labels Featured
 = Как собрать Android-версию =

*Требуемое программное обеспечение:*
 * Последняя ревизия BombusQD
 * Microemulator (рекомендуется ревизия 2511)
 * Java SE JDK (http://java.sun.com/javase/)
 * Subversion client (http://subversion.tigris.org)
 * Ant (http://ant.apache.org/)
 * Android SDK 14 версии и выше с загруженым Android 1.6 api (http://developer.android.com/)
 * Netbeans (http://www.netbeans.com/downloads/index.html)
А так же потребуется персональный ключ разработчика для подписи приложения


_*Процесс сборки:*_

*1.* Скачиваем репозиторий Microemulator 
{{{
svn co http://microemu.googlecode.com/svn/trunk/microemulator microemulator -r 2511
}}}

*2.* В Netbeans'e добавляем проект BombusQD

*3.* Открываем в исходниках _BombusQD_ папку _android_
и создаем в ней копии файлов *{{{_build.cmd}}}* и *{{{_local.properties}}}*
называя *{{{build.cmd}}}* и *{{{local.properties}}}* соответственно

*4.* Редактируем файл *build.cmd* любым текстовым редактором,
указывая в нем верные пути к JDK и Netbeans

пример:
{{{
set JAVA_HOME=C:\Program Files\Java\jdk1.6.0_21\
set ANT_EXEC="C:\Program Files\NetBeans 6.9.1\java\ant\bin\ant.bat"
}}}
*5.* Редактируем файл *local.properties* так же любым текстовым редактором

пример:
{{{
sdk.dir=D:/Android/android-sdk-windows  ///путь к Android-sdk
microemu.sources=D:/microemulator       ///путь к Microemulator
key.store=D:/keys/key/mykey.keystore    ///путь к хранилищу ключей
key.alias=cert                          ///имя хранилища
}}}

*6.* Возвращаем в корень исходников BombusQD. Для простоты сборки создаем в ней *Новый текстовый документ.txt*
переименовываем его в любой файл с расширением *.bat*, например *android.bat*
Редактируем его с помощью любого текстового редактора и пишем следующее
{{{
call ant build-android
pause
}}}
Теперь все готово для сборки андроид-версии, запускаем наш bat-файл и наблюдаем за процессом компиляции, в конце компиляции будет запрашиваться пароль к ключу и к хранилищу ключей

Чтобы постоянно его не вводить, создаем рядом с нашим созданным файлом текстовой файл, например *key.txt* и вписываем в него наши два пароля

Например
{{{
pass
pass
}}}
И сам файл *android.bat* редактируем следующим образом
{{{
call ant build-android < key.txt
pause
}}}
*7.* Наши собранные apk файлы после компиляции будут располагаться в папке *android/bin/*
{{{
BombusQD-release.apk  ///наше подписанное приложение для установки в телефон
BombusQD-unaligned.apk  ///подписано тестовым сертификатом
BombusQD-unsigned.apk  ///без подписи
}}}
=Внимание=
Собранное Вами приложение не установится поверх того, что выкладывалось для скачивания